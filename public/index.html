<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Applikasjonsutvikling 2</title>
</head>
<body>
    <div id="container">
        </div>
</body>

<script>

    let container = document.getElementById("container");

    let buttonEnglish = document.createElement("button");
    buttonEnglish.innerHTML = "English";

    let buttonNorwegian = document.createElement("button");
    buttonNorwegian.innerHTML = "Norsk";

    let buttonSwedish = document.createElement("button");
    buttonSwedish.innerHTML = "Svenska";

    container.appendChild(buttonEnglish);
    container.appendChild(buttonNorwegian);
    container.appendChild(buttonSwedish);

    let text = document.createElement("p");
    text.innerHTML = "Choose your language, get a joke.";
    container.appendChild(text);

    let language = "";

    buttonEnglish.onclick = function() {
        language = "en";
        getLanguage(language);
    }

    buttonNorwegian.onclick = function() {
        language = "no";
        getLanguage(language);
    }

    buttonSwedish.onclick = function() {
        language = "sv";
        getLanguage(language);
    }

    async function getLanguage(language) {
        let url = "/languages/" + language;
        let response = await fetch(url);
        let data = await response.json();

        if (response == 200) {
            text.innerHTML = data.text;
        }

        else {
            text.innerHTML = data.error;
        }
    }


</script>


</html>